"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var reactRouter=require("react-router"),qs=_interopDefault(require("qs")),React=_interopDefault(require("react")),reactRouterDom=require("react-router-dom");function computeRootMatch(e){return{path:"/",url:"/",params:{},isExact:"/"===e}}function matchRoutes(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return e.some(function(e){var t=e.path?reactRouter.matchPath(r,e):n.length?n[n.length-1].match:computeRootMatch(r);return t&&(n.push({route:e,match:t}),e.routes&&matchRoutes(e.routes,r,n)),t}),n}var queryMap={};function getQueryParamFromLocation(e){if(!queryMap[e.search]){var t=JSON.stringify(qs.parse(e.search.slice(1)));queryMap[e.search]=new Function("return ".concat(t))}return queryMap[e.search]()}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function formatPath(e){return e.endsWith("/")?formatPath(e.slice(0,-1)):e}function isFunction(e){return"[object Function]"===Object.prototype.toString.call(e)}function generateRoute(e){var t=Object.assign({},e),n=Array.isArray(t.path)?t.path:t.path?[t.path]:[];return t.routes&&(t.routes=t.routes.map(function(e){var t=Array.isArray(e.path)?e.path:e.path?[e.path]:[],r=[];return t.forEach(function(t){n.forEach(function(e){r.push("".concat(formatPath(e)).concat(t))})}),Object.assign(Object.assign({},e),{path:r.length<=1?r[0]:r})})),t}function renderRoutes(e){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e?React.createElement(reactRouter.Switch,t,e.map(function(e,t){var n=generateRoute(e),r=n.key,o=n.path,a=n.exact,c=n.strict,u=n.sensitive,i=n.location,s=n.redirect,p=n.component,l=n.fallback,m=n.render,f=__rest(n,["key","path","exact","strict","sensitive","location","redirect","component","fallback","render"]);return React.createElement(reactRouter.Route,_extends({key:r||t,path:o,exact:a,strict:c,sensitive:u,location:i},f,{render:function(e){var t=Object.assign(Object.assign({},e),{location:Object.assign(Object.assign({},e.location),{query:getQueryParamFromLocation(e.location||{search:""})}),route:n});if(s){var r="";return r=isFunction(s)?s(Object.assign(Object.assign({},h),t)):s,React.createElement(reactRouter.Switch,null,React.createElement(reactRouterDom.Redirect,{from:e.match.path,to:r}))}if(p){e.location;return React.Suspense&&l?React.createElement(React.Suspense,{fallback:l||React.createElement("div",null,"loading")},React.createElement(p,_extends({},h,t))):React.createElement(p,_extends({},h,t))}return m?React.Suspense&&l?React.createElement(React.Suspense,{fallback:l||React.createElement("div",null,"loading")},m(Object.assign(Object.assign({},h),t))):m(Object.assign(Object.assign({},h),t)):null}}))})):null}function withRouter(r){return reactRouterDom.withRouter(function(e){var t=e.location;return React.createElement(r,Object.assign(Object.assign({},e),{location:Object.assign(Object.assign({},t),{query:getQueryParamFromLocation(t)})}))})}Object.defineProperty(exports,"BrowserRouter",{enumerable:!0,get:function(){return reactRouterDom.BrowserRouter}}),Object.defineProperty(exports,"HashRouter",{enumerable:!0,get:function(){return reactRouterDom.HashRouter}}),Object.defineProperty(exports,"Link",{enumerable:!0,get:function(){return reactRouterDom.Link}}),Object.defineProperty(exports,"NavLink",{enumerable:!0,get:function(){return reactRouterDom.NavLink}}),Object.defineProperty(exports,"Redirect",{enumerable:!0,get:function(){return reactRouterDom.Redirect}}),Object.defineProperty(exports,"Route",{enumerable:!0,get:function(){return reactRouterDom.Route}}),Object.defineProperty(exports,"Router",{enumerable:!0,get:function(){return reactRouterDom.Router}}),Object.defineProperty(exports,"Switch",{enumerable:!0,get:function(){return reactRouterDom.Switch}}),Object.defineProperty(exports,"matchPath",{enumerable:!0,get:function(){return reactRouterDom.matchPath}}),Object.defineProperty(exports,"useHistory",{enumerable:!0,get:function(){return reactRouterDom.useHistory}}),Object.defineProperty(exports,"useLocation",{enumerable:!0,get:function(){return reactRouterDom.useLocation}}),Object.defineProperty(exports,"useParams",{enumerable:!0,get:function(){return reactRouterDom.useParams}}),Object.defineProperty(exports,"useRouteMatch",{enumerable:!0,get:function(){return reactRouterDom.useRouteMatch}}),exports.getQueryParamFromLocation=getQueryParamFromLocation,exports.matchRoutes=matchRoutes,exports.renderRoutes=renderRoutes,exports.withRouter=withRouter;
//# sourceMappingURL=react-router-config-upgrade.min.js.map
